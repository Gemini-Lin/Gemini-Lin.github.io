---
title: 正则表达式
comments: true
reward: true
date: 2020-06-17 21:04:57
tags:
- 正则表达式
categories: 
- Java后端
- 开发工具
copyright: true
quicklink: true
---
# Free Talk
在学习编程的这两年里，无数次的遇到正则表达式，不管是在Python还是Java中，正则表达式都是绕不开的话题。
今天打算写一篇正则表达式的总结文章，一是为了学习，二是为了日后查阅复制方便。
发现了Github上有一个超好的学习资料，将在上面做一些修改，作为总结。同时限于篇幅，只写了常用部分，更多内容请见[learn-regex](https://github.com/ziishaned/learn-regex)
<!--more-->
# 1.基本匹配
正则表达式其实就是在执行搜索时的格式，它由一些字母和数字组合而成。 例如：一个正则表达式 the，它表示一个规则：由字母t开始，接着是h，再接着是e。
同时正则表达式是大小写的敏感的，所以the不会匹配The。
# 2.元字符
正则表达式的核心就是元字符的匹配，元字符的描述如下图所示。
![NeplQJ.png](https://s1.ax1x.com/2020/06/18/NeplQJ.png)
## 2.1点运算符.
.是元字符中最简单的例子。 .匹配任意单个字符，但不匹配换行符。
```
".ar" => The car parked in the garage.
```
## 2.2字符集
[ ]方括号用来指定一个字符集。在[ ]方括号中使用连字符-来指定字符集的范围。
在方括号中的字符集不关心顺序。例如，表达式`[Tt]he` 匹配 the 和 The。
```
"[Tt]he" => The car parked in the garage.
```
方括号中的句号就表示句号。表达式 ar[.] 匹配 ar.字符串
```
"ar[.]" => A garage is a good place to park a car.
```
### 2.2.1否定字符集
一般来说 `^` 表示一个字符串的开头，但它用在一个方括号的开头`[^]`的时候，它表示这个字符集是否定的。 例如，表达式`[^c]ar` 匹配一个ar前面非c的任意字符。如下面的par、gar而非car。
```
"[^c]ar" => The car parked in the garage.
```
## 2.3重复次数
后面跟着元字符 `+`，`*` or `?` 的，用来指定匹配子模式的次数。 这些元字符在不同的情况下有着不同的意思。
### 2.3.1*号
`*`号匹配在 `*`之前的字符出现**大于等于0次**。 例如，表达式 `a*` 匹配0或更多个以a开头的字符。表达式`[a-z]*` 匹配一个行中所有以小写字母开头的字符串。
```
"[a-z]*" => The car parked in the garage #21.
```
`*`字符和`.`字符搭配可以匹配所有的字符`.*`。 `*`和表示匹配空格的符号`\s`连起来用，如表达式`\s*cat\s*`匹配0或更多个空格开头和0或更多个空格结尾的cat字符串。
```
"\s*cat\s*" => The fat cat sat on the concatenation.
```
### 2.3.2+号
`+`号匹配`+`号之前的字符出现 **>=1 次**。 例如表达式`c.+t `匹配以首字母c开头以t结尾，中间跟着至少一个字符的字符串。
```
"c.+t" => The fat cat sat on the mat.
```
### 2.3.3?号
在正则表达式中元字符 `? `标记在符号前面的字符为可选，即**出现 0 或 1 次**。 例如，表达式 `[T]?he` 匹配字符串 he 和 The。
```
"[T]he" => The car is parked in the garage.
"[T]?he" => The car is parked in the garage.
```
## 2.4{}号
在正则表达式中 `{} `是一个量词，常用来限定一个或一组字符可以重复出现的次数。 例如，表达式 `[0-9]{2,3} `匹配最少 2 位最多 3 位 0~9 的数字。
```
"[0-9]{2,3}" => The number was 9.9997 but we rounded it off to 10.0.
```
我们可以省略第二个参数。 例如，`[0-9]{2,}` 匹配至少两位 0~9 的数字。
```
"[0-9]{2,}" => The number was 9.9997 but we rounded it off to 10.0.
```
如果逗号也省略掉则表示重复固定的次数。 例如，[0-9]{3} 匹配3位数字。
```
"[0-9]{3}" => The number was 9.9997 but we rounded it off to 10.0.
```
## 2.5(...)特征标群
`(...)`里面的内容可以看作一个整体。例如，表达式 `(ab)* `匹配连续出现 0 或更多个 ab。如果没有使用 `(...)` ，那么表达式 `ab*` 将匹配连续出现 0 或更多个 b 。
我们还可以在 `() `中用或字符 `|` 表示或。例如，`(c|g|p)ar` 匹配 car 或 gar 或 par.
```
"(c|g|p)ar" => The car is parked in the garage.
```
## 2.6|或运算符
或运算符就表示或，用作判断条件。
例如 `(T|t)he|car `匹配 `(T|t)he 或 car`。
```
"(T|t)he|car" => The car is parked in the garage.
```
## 2.7\转码特殊字符
反斜线` \ `在表达式中用于转码紧跟其后的字符。用于指定 `{ } [ ] / \ + * . $ ^ | ? `这些特殊字符。如果想要匹配这些特殊字符则要在其前面加上反斜线` \`。
例如 `. `是用来匹配除换行符外的所有字符的。如果想要匹配句子中的` .` 则要写成` \. `以下这个例子 `\.?`是选择性匹配.
```
"(f|c|m)at\.?" => The fat cat sat on the mat.
```
## 2.8锚点
在正则表达式中，想要匹配指定开头或结尾的字符串就要使用到锚点。`^`指定开头，`$`指定结尾。
# 3.简写字符集
![NevH1J.png](https://s1.ax1x.com/2020/06/18/NevH1J.png)
